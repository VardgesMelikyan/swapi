{"ast":null,"code":"var _jsxFileName = \"/Users/vardges/Desktop/react projects/swapi/src/components/RandomPlanet/RandomPlanet.js\";\nimport React, { Component } from 'react';\nimport SwapiService from '../../services/SwapiService';\nimport Loading from '../Loading';\nimport PlanetView from './View/PlanetView';\nimport ErrorIndicator, { onError } from '../Alerts/ErrorIndicator';\nimport './RandomPlanet.css';\nexport default class RandomPlanet extends Component {\n  constructor(...args) {\n    super(...args);\n    this.swapiService = new SwapiService();\n    this.state = {\n      planet: {},\n      loading: true,\n      error: false\n    };\n\n    this.onError = err => {\n      this.setState({\n        error: true,\n        loading: false\n      });\n    };\n\n    this.onPlanetLoaded = planet => {\n      this.setState({\n        planet,\n        loading: false\n      });\n    };\n\n    this.updatePlanet = () => {\n      const id = Math.floor(Math.random() * 25) + 2;\n      this.swapiService.getPlanet(id).then(this.onPlanetLoaded).catch(this.onError);\n    };\n  }\n\n  componentDidMount() {\n    this.updatePlanet();\n    this.interval = setInterval(this.updatePlanet, 1500);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      planet,\n      loading,\n      error\n    } = this.state;\n    const hasData = !(loading || error);\n    const errorIndicator = error ? React.createElement(ErrorIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }) : null;\n    const spinner = loading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }) : null;\n    const content = hasData ? React.createElement(PlanetView, {\n      planet: planet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }) : null;\n    return React.createElement(\"div\", {\n      className: \"random-planet jumbotron rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, errorIndicator, spinner, content);\n  }\n\n}","map":{"version":3,"sources":["/Users/vardges/Desktop/react projects/swapi/src/components/RandomPlanet/RandomPlanet.js"],"names":["React","Component","SwapiService","Loading","PlanetView","ErrorIndicator","onError","RandomPlanet","swapiService","state","planet","loading","error","err","setState","onPlanetLoaded","updatePlanet","id","Math","floor","random","getPlanet","then","catch","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render","hasData","errorIndicator","spinner","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,cAAP,IAAyBC,OAAzB,QAAwC,0BAAxC;AACA,OAAO,oBAAP;AAEA,eAAe,MAAMC,YAAN,SAA2BN,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAChDO,YADgD,GACjC,IAAIN,YAAJ,EADiC;AAAA,SAEhDO,KAFgD,GAExC;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,OAAO,EAAE,IAFL;AAGJC,MAAAA,KAAK,EAAE;AAHH,KAFwC;;AAAA,SAchDN,OAdgD,GAcrCO,GAAD,IAAS;AACf,WAAKC,QAAL,CAAc;AACVF,QAAAA,KAAK,EAAE,IADG;AAEVD,QAAAA,OAAO,EAAE;AAFC,OAAd;AAIH,KAnB+C;;AAAA,SAoBhDI,cApBgD,GAoB9BL,MAAD,IAAY;AACzB,WAAKI,QAAL,CAAc;AACVJ,QAAAA,MADU;AAEVC,QAAAA,OAAO,EAAE;AAFC,OAAd;AAIH,KAzB+C;;AAAA,SA0BhDK,YA1BgD,GA0BjC,MAAM;AACjB,YAAMC,EAAE,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,IAAiC,CAA5C;AACA,WAAKZ,YAAL,CACKa,SADL,CACeJ,EADf,EAEKK,IAFL,CAEU,KAAKP,cAFf,EAGKQ,KAHL,CAGW,KAAKjB,OAHhB;AAIH,KAhC+C;AAAA;;AAOhDkB,EAAAA,iBAAiB,GAAG;AAChB,SAAKR,YAAL;AACA,SAAKS,QAAL,GAAgBC,WAAW,CAAC,KAAKV,YAAN,EAAoB,IAApB,CAA3B;AACH;;AACDW,EAAAA,oBAAoB,GAAG;AACnBC,IAAAA,aAAa,CAAC,KAAKH,QAAN,CAAb;AACH;;AAoBDI,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEnB,MAAAA,MAAF;AAAUC,MAAAA,OAAV;AAAmBC,MAAAA;AAAnB,QAA6B,KAAKH,KAAxC;AAEA,UAAMqB,OAAO,GAAG,EAAEnB,OAAO,IAAIC,KAAb,CAAhB;AACA,UAAMmB,cAAc,GAAGnB,KAAK,GAAG,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAwB,IAApD;AACA,UAAMoB,OAAO,GAAGrB,OAAO,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAiB,IAAxC;AACA,UAAMsB,OAAO,GAAGH,OAAO,GAAG,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEpB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAoC,IAA3D;AACA,WACI;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKqB,cADL,EAEKC,OAFL,EAGKC,OAHL,CADJ;AAQH;;AAhD+C","sourcesContent":["import React, { Component } from 'react';\nimport SwapiService from '../../services/SwapiService';\nimport Loading from '../Loading';\nimport PlanetView from './View/PlanetView';\nimport ErrorIndicator, { onError } from '../Alerts/ErrorIndicator';\nimport './RandomPlanet.css';\n\nexport default class RandomPlanet extends Component {\n    swapiService = new SwapiService();\n    state = {\n        planet: {},\n        loading: true,\n        error: false\n    }\n    componentDidMount() {\n        this.updatePlanet();\n        this.interval = setInterval(this.updatePlanet, 1500)\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval)\n    }\n    onError = (err) => {\n        this.setState({\n            error: true,\n            loading: false\n        })\n    }\n    onPlanetLoaded = (planet) => {\n        this.setState({\n            planet,\n            loading: false\n        })\n    }\n    updatePlanet = () => {\n        const id = Math.floor(Math.random() * 25) + 2;\n        this.swapiService\n            .getPlanet(id)\n            .then(this.onPlanetLoaded)\n            .catch(this.onError)\n    }\n    render() {\n        const { planet, loading, error } = this.state;\n\n        const hasData = !(loading || error)\n        const errorIndicator = error ? <ErrorIndicator /> : null\n        const spinner = loading ? <Loading /> : null\n        const content = hasData ? <PlanetView planet={planet} /> : null\n        return (\n            <div className=\"random-planet jumbotron rounded\" >\n                {errorIndicator}\n                {spinner}\n                {content}\n            </div>\n\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}