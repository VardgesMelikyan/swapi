{"ast":null,"code":"var _jsxFileName = \"/Users/vardges/Desktop/react projects/swapi/src/components/RandomPlanet/RandomPlanet.js\";\nimport React, { Component } from 'react';\nimport SwapiService from '../../services/SwapiService';\nimport Loading from '../Loading';\nimport PlanetView from './View/PlanetView';\nimport ErrorIndicator, { onError } from '../Alerts/ErrorIndicator';\nimport './RandomPlanet.css';\nexport default class RandomPlanet extends Component {\n  constructor(...args) {\n    super(...args);\n    this.swapiService = new SwapiService();\n    this.state = {\n      planet: {},\n      loading: true,\n      error: false\n    };\n\n    this.onPlanetLoaded = planet => {\n      this.setState({\n        planet,\n        loading: false\n      });\n    };\n\n    this.updatePlanet = () => {\n      const id = 20000; // Math.floor(Math.random() * 25) + 2;\n\n      this.swapiService.getPlanet(id).then(this.onPlanetLoaded).catch(onError);\n    };\n  }\n\n  componentDidMount() {\n    this.updatePlanet();\n    this.interval = setInterval(this.updatePlanet, 10000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      planet,\n      loading,\n      error\n    } = this.state;\n    const hasData = !(loading || error);\n    const errorIndicator = error ? React.createElement(ErrorIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }) : null;\n    const spinner = loading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }) : null;\n    const content = hasData ? React.createElement(PlanetView, {\n      planet: planet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }) : null;\n    return React.createElement(\"div\", {\n      className: \"random-planet jumbotron rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, errorIndicator, spinner, content);\n  }\n\n}","map":{"version":3,"sources":["/Users/vardges/Desktop/react projects/swapi/src/components/RandomPlanet/RandomPlanet.js"],"names":["React","Component","SwapiService","Loading","PlanetView","ErrorIndicator","onError","RandomPlanet","swapiService","state","planet","loading","error","onPlanetLoaded","setState","updatePlanet","id","getPlanet","then","catch","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render","hasData","errorIndicator","spinner","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,cAAP,IAAyBC,OAAzB,QAAwC,0BAAxC;AACA,OAAO,oBAAP;AAEA,eAAe,MAAMC,YAAN,SAA2BN,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAChDO,YADgD,GACjC,IAAIN,YAAJ,EADiC;AAAA,SAEhDO,KAFgD,GAExC;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,OAAO,EAAE,IAFL;AAGJC,MAAAA,KAAK,EAAE;AAHH,KAFwC;;AAAA,SAchDC,cAdgD,GAc9BH,MAAD,IAAY;AACzB,WAAKI,QAAL,CAAc;AACVJ,QAAAA,MADU;AAEVC,QAAAA,OAAO,EAAE;AAFC,OAAd;AAIH,KAnB+C;;AAAA,SAoBhDI,YApBgD,GAoBjC,MAAM;AACjB,YAAMC,EAAE,GAAG,KAAX,CADiB,CAEjB;;AACA,WAAKR,YAAL,CACKS,SADL,CACeD,EADf,EAEKE,IAFL,CAEU,KAAKL,cAFf,EAGKM,KAHL,CAGWb,OAHX;AAIH,KA3B+C;AAAA;;AAOhDc,EAAAA,iBAAiB,GAAG;AAChB,SAAKL,YAAL;AACA,SAAKM,QAAL,GAAgBC,WAAW,CAAC,KAAKP,YAAN,EAAoB,KAApB,CAA3B;AACH;;AACDQ,EAAAA,oBAAoB,GAAG;AACnBC,IAAAA,aAAa,CAAC,KAAKH,QAAN,CAAb;AACH;;AAeDI,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEf,MAAAA,MAAF;AAAUC,MAAAA,OAAV;AAAmBC,MAAAA;AAAnB,QAA6B,KAAKH,KAAxC;AAEA,UAAMiB,OAAO,GAAG,EAAEf,OAAO,IAAIC,KAAb,CAAhB;AACA,UAAMe,cAAc,GAAGf,KAAK,GAAG,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAwB,IAApD;AACA,UAAMgB,OAAO,GAAGjB,OAAO,GAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAiB,IAAxC;AACA,UAAMkB,OAAO,GAAGH,OAAO,GAAG,oBAAC,UAAD;AAAY,MAAA,MAAM,EAAEhB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,GAAoC,IAA3D;AACA,WACI;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKiB,cADL,EAEKC,OAFL,EAGKC,OAHL,CADJ;AAQH;;AA3C+C","sourcesContent":["import React, { Component } from 'react';\nimport SwapiService from '../../services/SwapiService';\nimport Loading from '../Loading';\nimport PlanetView from './View/PlanetView';\nimport ErrorIndicator, { onError } from '../Alerts/ErrorIndicator';\nimport './RandomPlanet.css';\n\nexport default class RandomPlanet extends Component {\n    swapiService = new SwapiService();\n    state = {\n        planet: {},\n        loading: true,\n        error: false\n    }\n    componentDidMount() {\n        this.updatePlanet();\n        this.interval = setInterval(this.updatePlanet, 10000)\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval)\n    }\n    onPlanetLoaded = (planet) => {\n        this.setState({\n            planet,\n            loading: false\n        })\n    }\n    updatePlanet = () => {\n        const id = 20000\n        // Math.floor(Math.random() * 25) + 2;\n        this.swapiService\n            .getPlanet(id)\n            .then(this.onPlanetLoaded)\n            .catch(onError)\n    }\n    render() {\n        const { planet, loading, error } = this.state;\n\n        const hasData = !(loading || error)\n        const errorIndicator = error ? <ErrorIndicator /> : null\n        const spinner = loading ? <Loading /> : null\n        const content = hasData ? <PlanetView planet={planet} /> : null\n        return (\n            <div className=\"random-planet jumbotron rounded\" >\n                {errorIndicator}\n                {spinner}\n                {content}\n            </div>\n\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}